# 一个优良的文件服务器

***

### 首先就是安全:

#### 我们对于请求的文件路径，有两种办法：

* 对于请求的url去掉相对路径,用正则做处理
* 对于请求的路径做限制，只响应特定的路由

第二种方法不好，更新文件就要重新写路由

***

### 其次就是缓存

#### 对于缓存需要使用`cache-control`或者使用`expires`

* 首先使用expires是不明智的，因为往往是错误的
* 建议使用`cache-control `； 也就是`max-age=second`要设置好

#### 还有就是`last-modified/if-modified-since`

`if-modified`是客户端给服务端的时间，`last-modified`是服务端给客户端的时间

> 对于缓存的总结就是一般不变的文件设置擦cache-control
>
> 变动文件就是`last-modified`/`if-modified-since`

